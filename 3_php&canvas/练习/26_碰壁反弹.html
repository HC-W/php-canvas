<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>碰壁反弹</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#canv{
				border: 1px solid red;
			}
		</style>
	</head>
	<body>
		<canvas id="canv" width="600" height="500"></canvas>
		<script src="../js/封装函数.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var canv=document.getElementById("canv");
			var ctx=canv.getContext("2d");
			var x=0,y=0;
			var isYou=true;
			var isXia=true;
			huizhi(x,y);
			
			function move(){
				if(x<0){
					isYou=true;
				}else if(x+50>canv.width){
					isYou=false;
				}
				if(y<0){
					isXia=true;
				}else if(y+50>canv.height){
					isXia=false;
				}
				if(isYou){
					x+=3;
				}else if(isYou==false){
					x-=3;
				}
				if(isXia){
					y+=3;
				}else if(isXia==false){
					y-=3;
				}
				huizhi(x,y);
				setTimeout(function(){
					requestAnimationFrame(move);
				},10);
			}
			move();
			//绘制的函数，多次利用
			function huizhi(x,y){
				canv.width=canv.width;
				ctx.beginPath();
				//颜色的随机数
				var r=rand(0,254);
				var g=rand(0,254);
				var b=rand(0,254);
				//填充颜色的赋值
				ctx.fillStyle="rgb("+r+","+g+","+b+")";
				//填充的大小
				ctx.fillRect(x,y,50,50);
			}
		</script>
	</body>
</html>
